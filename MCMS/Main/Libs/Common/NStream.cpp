#include "NStream.h"

#include "Trace.h"
#include "TraceStream.h"

#include <sstream>

///////////////////////////////////////////////////////////////////////////
COstrStream::COstrStream()
{}

///////////////////////////////////////////////////////////////////////////
COstrStream::COstrStream(const char* buffer)
	: std::ostringstream(buffer)
{}

///////////////////////////////////////////////////////////////////////////
CIstrStream::CIstrStream()
{}

///////////////////////////////////////////////////////////////////////////
COstrStream::~COstrStream()
{}

///////////////////////////////////////////////////////////////////////////
void COstrStream::Deserialize(CSegment& seg)
{
	std::string s;

	const size_t offset = seg.GetRdOffset();
	seg >> s;
	seg.ResetRead(offset);

	*this << s;
}

///////////////////////////////////////////////////////////////////////////
CIstrStream::~CIstrStream()
{}

///////////////////////////////////////////////////////////////////////////
CIstrStream::CIstrStream(const char* buffer)
	: std::istringstream(buffer)
{}

///////////////////////////////////////////////////////////////////////////
CIstrStream::CIstrStream(const std::string& s)
	: std::istringstream(s)
{}

///////////////////////////////////////////////////////////////////////////
CIstrStream::CIstrStream(CSegment& seg)
{
	std::string s;

	const size_t offset = seg.GetRdOffset();
	seg >> s;
	seg.ResetRead(offset);

	this->str(s);
}

///////////////////////////////////////////////////////////////////////////
